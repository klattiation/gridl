{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7f8be4a85833c0677856","webpack:///./src/index.js"],"names":["gridl","_defaultOpts","arrayType","_validArrayTypes","Object","freeze","index2pos","index","columns","Math","floor","pos2index","position","toArray2D","array1D","reduce","res","cell","pos","toArray1D","array2D","rows","length","dataStr","Error","row","_guessDimensions","opts","data","numCells","_mergeOptions","_toIndex","indexOrPos","Array","isArray","parseInt","_toPosition","_flatten","_valueAt","_data","value","isNaN","undefined","_setAreaAt","api","area","forEach","r","targetPos","c","valueAt","_getAreaAt","size","end","min","rArea","cArea","_findPosition","callback","findIndex","_findPositionInArea","getAreaAt","flat","areaIndex","areaColumns","areaPos","posInArea","_findIndexInArea","findPositionInArea","_checkAreaFitsAt","fitsHorizontally","fitsVertically","includes","join","_opts","bind","setAreaAt","findPosition","findIndexInArea","checkAreaFitsAt","serialize"],"mappings":"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","file":"gridl.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"gridl\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"gridl\"] = factory();\n\telse\n\t\troot[\"gridl\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7f8be4a85833c0677856","const _defaultOpts = {\n    arrayType: '1d',\n};\n\nconst _validArrayTypes = Object.freeze(['1d', '2d']);\n\n/**\n * Converts cell index into a cell position.\n *\n * @param {Integer} index - The index of the cell.\n * @param {Integer} columns - The number of columns the grid has.\n * @returns {Array} - The equivalent position within the grid as [x, y].\n */\nexport const index2pos = (index, columns) => [index % columns, Math.floor(index / columns)];\n\n/**\n * Converts a position into cell index.\n *\n * @param {Array} position - The two dimensional position array as [x, y].\n * @param {Integer} columns - The number of columns the grid has.\n * @returns {Integer} - The equivalent index within the grid.\n */\nexport const pos2index = (position, columns) => position[0] + position[1] * columns;\n\n/**\n * Converts an one-dimensional grid array into a two-dimensional grid.\n *\n * @param {Array} array1D - The one dimensional array.\n * @param {Integer} columns - The number columns the new array should have.\n * @returns {Array} - The two-dimensional array.\n */\nexport const toArray2D = (array1D, columns) => array1D.reduce((res, cell, index) => {\n    const pos = index2pos(index, columns);\n    if (!res[pos[1]]) {\n        res[pos[1]] = [];\n    }\n    res[pos[1]][pos[0]] = cell;\n    return res;\n}, []);\n\n/**\n * Convert a two-dimensional array into a one-dimensional array.\n *\n * @param {Array} array2D - The two dimensional array to convert.\n * @param {Integer} columns - The number of columns.\n * @param {Integer} rows - The number of rows.\n * @returns {Array} - The flattened one-dimensional array.\n */\nexport const toArray1D = (array2D, columns, rows) => {\n    if (rows !== array2D.length) {\n        const dataStr = `(expected: ${rows}, actually: ${array2D.length})`;\n        throw new Error(`Trying to convert invalid array2D with invalid number of rows to array1D. ${dataStr}`);\n    }\n    return array2D.reduce((res, row) => {\n        if (columns !== row.length) {\n            const dataStr = `(expected: ${columns}, actually: ${row.length})`;\n            throw new Error(`Trying to convert invalid array2D with invalid number of columns to array1D. ${dataStr}`);\n        }\n        return [...res, ...row];\n    }, []);\n};\n\n/**\n * Enhance the options with number of rows and columns if they're not provided by the user.\n *\n * @param {Object} opts - The given options.\n * @param {Array} data - One- or two-dimensional data array.\n * @returns {Object} - The options with rows and columns field.\n * @private\n */\nfunction _guessDimensions(opts, data) {\n    const numCells = opts.arrayType === '1d' ? data.length : data.reduce((res, row) => res + row.length, 0);\n\n    if (!opts.columns && !opts.rows) {\n        if (opts.arrayType === '2d') {\n            opts.rows = data.length;\n            opts.columns = data[0].length;\n        }\n        else {\n            opts.rows = 1;\n            opts.columns = data.length;\n        }\n    }\n    else if (opts.columns && !opts.rows && numCells % opts.columns === 0) {\n        opts.rows = numCells / opts.columns;\n    }\n    else if (!opts.columns && opts.rows && numCells % opts.rows === 0) {\n        opts.columns = numCells / opts.rows;\n    }\n\n    return opts;\n}\n\nconst _mergeOptions = (opts, data) => ({\n    ..._defaultOpts,\n    ..._guessDimensions({ ..._defaultOpts, ...opts }, data),\n});\n\nconst _toIndex = (indexOrPos, columns) => {\n    if (!columns) {\n        throw new Error('_toIndex() needs to know the number of columns.');\n    }\n    return Array.isArray(indexOrPos) ? pos2index(indexOrPos, columns) : parseInt(indexOrPos);\n};\n\nconst _toPosition = (indexOrPos, columns) => {\n    if (!columns) {\n        throw new Error('_toPosition() needs to know the number of columns.');\n    }\n    return Array.isArray(indexOrPos) ? indexOrPos : index2pos(indexOrPos, columns);\n};\n\nconst _flatten = array2D => array2D.reduce((res, row) => [...res, ...row], []);\n\nfunction _valueAt(_data, columns, indexOrPos, value) {\n    const index = _toIndex(indexOrPos, columns);\n    if (isNaN(index)) {\n        throw new Error(`Trying to access value with invalid index or position. ${indexOrPos}`);\n    }\n    if (value === undefined) {\n        return _data[index];\n    }\n    else {\n        _data[index] = value;\n        return this;\n    }\n}\n\nfunction _setAreaAt(api, columns, rows, indexOrPos, area) {\n    const pos = _toPosition(indexOrPos, columns);\n    area.forEach((row, r) => {\n        const targetPos = [0, r + pos[1]];\n        if (targetPos[1] >= rows) {\n            return;\n        }\n        row.forEach((cell, c) => {\n            targetPos[0] = c + pos[0];\n            if (targetPos[0] >= columns) {\n                return;\n            }\n            api.valueAt(targetPos, cell);\n        });\n    });\n    return api;\n}\n\nfunction _getAreaAt(api, columns, rows, indexOrPos, size) {\n    const pos = _toPosition(indexOrPos, columns);\n    const end = [\n        Math.min(pos[0] + size[0], columns),\n        Math.min(pos[1] + size[1], rows),\n    ];\n    const area = [];\n    for (let r = pos[1]; r < end[1]; r++) {\n        const rArea = r - pos[1];\n        if (!area[rArea]) {\n            area[rArea] = [];\n        }\n        for (let c = pos[0]; c < end[0]; c++) {\n            const cArea = c - pos[0];\n            area[rArea][cArea] = api.valueAt([c, r]);\n        }\n    }\n    return area;\n}\n\nfunction _findPosition(api, data, callback) {\n    const index = data.findIndex(callback);\n    return (index >= 0) ? api.index2pos(index) : undefined;\n}\n\nfunction _findPositionInArea(api, columns, indexOrPos, size, callback) {\n    const area = api.getAreaAt(indexOrPos, size);\n    const flat = _flatten(area);\n    const areaIndex = flat.findIndex(callback);\n    if (areaIndex >= 0) {\n        const areaColumns = area[0].length;\n        const areaPos = _toPosition(indexOrPos, columns);\n        const posInArea = index2pos(areaIndex, areaColumns);\n        return [\n            areaPos[0] + posInArea[0],\n            areaPos[1] + posInArea[1],\n        ];\n    }\n}\n\nfunction _findIndexInArea(api, columns, indexOrPos, size, callback) {\n    const pos = api.findPositionInArea(indexOrPos, size, callback);\n    return pos ? api.pos2index(pos) : -1;\n}\n\nfunction _checkAreaFitsAt(columns, rows, indexOrPos, area) {\n    const pos = _toPosition(indexOrPos, columns);\n    const fitsHorizontally = pos[0] + area[0].length <= columns;\n    const fitsVertically = pos[1] + area.length <= rows;\n    return fitsHorizontally && fitsVertically;\n}\n\n/**\n * The gridl base function.\n *\n * @param {Array} data\n * @param {{ arrayType, columns, rows }} opts\n * @returns {{ toArray1D, toArray2D, index2pos, pos2index, rows, columns }}\n */\nexport function gridl(data, opts = {}) {\n\n    if (!Array.isArray(data)) {\n        throw new Error('Trying to use gridl with none-array value for data.');\n    }\n\n    if (opts.arrayType && !_validArrayTypes.includes(opts.arrayType)) {\n        throw new Error(`Trying to use invalid arrayType. expected: (${_validArrayTypes.join('|')}), actually: ${opts.arrayType}`);\n    }\n\n    const _opts = _mergeOptions(opts, data);\n    const { columns, rows } = _opts;\n    const _data = _opts.arrayType === '1d' ? [...data] : toArray1D(data, columns, rows);\n\n    const api = {};\n\n    // getter for dimensions\n    api.columns = () => columns;\n    api.rows = () => rows;\n    api.size = () => [columns, rows];\n\n    // position calculations\n    api.index2pos = index => index2pos(index, columns);\n    api.pos2index = position => pos2index(position, columns);\n\n    // accessing data\n    api.valueAt = _valueAt.bind(api, _data, columns);\n    api.setAreaAt = (indexOrPos, area) => _setAreaAt(api, columns, rows, indexOrPos, area);\n    api.getAreaAt = (indexOrPos, size) => _getAreaAt(api, columns, rows, indexOrPos, size);\n    api.findIndex = callback => _data.findIndex(callback);\n    api.findPosition = callback => _findPosition(api, _data, callback);\n    api.findPositionInArea = (indexOrPos, size, callback) => _findPositionInArea(api, columns, indexOrPos, size, callback);\n    api.findIndexInArea = (indexOrPos, size, callback) => _findIndexInArea(api, columns, indexOrPos, size, callback);\n    api.checkAreaFitsAt = (indexOrPos, area) => _checkAreaFitsAt(columns, rows, indexOrPos, area);\n\n    // exporting data\n    api.toArray1D = () => [..._data];\n    api.toArray2D = toArray2D.bind(api, _data, columns);\n    api.serialize = () => ({\n        opts: _opts,\n        data: _data,\n    });\n\n    return api;\n}\n\nexport default gridl;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}