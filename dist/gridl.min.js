!function(n,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("gridl",[],r):"object"==typeof exports?exports.gridl=r():n.gridl=r()}("undefined"!=typeof self?self:this,function(){return function(n){function r(e){if(t[e])return t[e].exports;var i=t[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var t={};return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:e})},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},r.p="",r(r.s=0)}([function(n,r,t){"use strict";function e(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}function i(n){if(!Array.isArray(n))throw new Error("Trying to import data that is not an array.");n.forEach(function(r,t){if(!Array.isArray(r))throw new Error("Trying to import data that is not an array.");if(t>0&&n[t-1].length!==r.length)throw new Error("Trying to import data with different row lengths.");if(r.length<1)throw new Error("Trying to import grid without any columns. You need to provide at least one column.")})}function o(n,r,t){var e=H(t,r);if(!isNaN(e))return n[e]}function u(n,r,t,e,i,o){if(S([t,e],i))return n;var u=H(i,t);return isNaN(u)||(r[u]=o),n}function a(n,r,t,e,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0],u=k(e,o);return i.forEach(function(e,i){var o=[0,i+u[1]];o[1]>=t||e.forEach(function(t,e){o[0]=e+u[0],o[0]>=r||n.setValueAt(o,t)})}),n}function f(n,r,t,e,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0],u=k(e,o),a=[Math.min(u[0]+i[0],r),Math.min(u[1]+i[1],t)],f=[Math.max(0,u[0]),Math.max(0,u[1])],c=[],s=f[1];s<a[1];s++){var l=s-f[1];c[l]||(c[l]=[]);for(var h=f[0];h<a[0];h++){var v=h-f[0];c[l][v]=n.valueAt([h,s])}}return c}function c(n,r,t){var e=r.findIndex(t);return e>=0?D(e,n):void 0}function s(n,r,t,e,i){var o=n.getAreaAt(t,e),u=z(o),a=u.findIndex(function(t,e){return i(t,D(e,r),n)});if(a>=0){var f=o[0].length,c=D(a,f);return[t[0]+c[0],t[1]+c[1]]}}function l(n,r,t,e){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],o=k(t,i),u=o[0]>=0&&o[0]+e[0].length<=n,a=o[1]>=0&&o[1]+e.length<=r;return u&&a}function h(n,r,t){if(!Array.isArray(t))throw new Error("Trying to go to an invalid position. Given: "+t);return t}function v(n,r,t,e){var i=x(t,e);if(S([n,r],i))throw new Error("Trying to walk to an invalid position. Position: "+i);return i}function d(n,r,t,e,i){var o=H(e,r),u=[r,t];if(isNaN(o)||S(u,e))throw new Error("Trying to move cell from an invalid position. Given: ["+e+"]");var a=H(i,r);if(isNaN(a)||S(u,i))throw new Error("Trying to move cell to an invalid position. Given: ["+i+"]");Y(n,o,a)}function w(n,r,t,e,i){if(e<0||e>=t)throw new Error("Trying to move row from an invalid position. Given: "+e);if(i<0||i>=t)throw new Error("Trying to move row to an invalid position. Given: "+i);return z(Y(n,e,i))}function g(n,r,t,e,i){if(e<0||e>=r)throw new Error("Trying to move column from an invalid position. Given: "+e);if(i<0||i>=r)throw new Error("Trying to move column to an invalid position. Given: "+i);var o=n.map(function(n){return Y(n,e,i)});return z(o)}function m(n,r,t,e,i){if(i<0||i>t)throw new Error("Trying to add row at an invalid position. Given: "+i);if(e.length!==r)throw new Error("Trying to add a row that contains an invalid amount of cells. Expected: "+r+", Given: "+e.length);return n.splice(i,0,e),n}function p(n,r,t,e,i){if(i<0||i>r)throw new Error("Trying to add column at an invalid position. Given: "+i);if(e.length!==t)throw new Error("Trying to add a column that contains an invalid amount of cells. Expected: "+t+", Given: "+e.length);return n.map(function(n,r){return n.splice(i,0,e[r]),n})}function T(n,r,t){if(t<0||t>=r)throw new Error("Trying to remove a row at an invalid position. Given: "+t);if(r<=1)throw new Error("Cannot remove row because the grid would be empty after it.");return n.splice(t,1),n}function y(n,r,t){if(t<0||t>=r)throw new Error("Trying to remove a column at an invalid position. Given: "+t);if(r<=1)throw new Error("Cannot remove column because the grid would be empty after it.");return n.map(function(n){return n.filter(function(n,r){return r!==t})})}function E(n,r,t,e,i){if(e[0]<0||e[0]>=r||e[1]<0||e[1]>=t)throw new Error("Trying to clip data at an invalid position. Given: "+e);var o=x(e,i);return n.filter(function(n,r){return r>=e[1]&&r<o[1]}).map(function(n){return n.filter(function(n,r){return r>=e[0]&&r<o[0]})})}function A(n,r,t){var e=n.size();if(S(e,r)||S(e,t))throw new Error("Trying to swap cells with an invalid position.");var i=n.valueAt(r);return n.setValueAt(r,n.valueAt(t)),n.setValueAt(t,i),n}function O(n,r,t,e){if(t<0||t>=r)throw new Error("Trying to swap rows from an invalid position. Given: "+t);if(e<0||e>=r)throw new Error("Trying to swap rows to an invalid position. Given: "+e);return V(n,t,e),z(n)}function G(n,r,t,e){if(t<0||t>=r)throw new Error("Trying to swap columns from an invalid position. Given: "+t);if(e<0||e>=r)throw new Error("Trying to swap columns to an invalid position. Given: "+e);return n.map(function(n){return V(n,t,e),n}),z(n)}function N(n,r,t){var e=t%4;switch(e<0?e+4:e){case 0:return n;case 1:return Array.from({length:r},function(r,t){return C(n,t).reverse()});case 2:return n.reverse().map(function(n,r){return n.reverse()});case 3:return Array.from({length:r},function(t,e){return C(n,r-1-e)});default:throw new Error("Trying to rotate the grid with an invalid steps parameter. Given: "+t)}}function L(n,r){if(void 0===r)return n.reverse();var t=M(r,0,n.length-1),i=n.filter(function(n,r){return r<t});return[].concat(e(n.filter(function(n,r){return r>t}).reverse()),[n[t]],e(i.reverse()))}function _(n,r,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t.reduce(function(t,o){var u=x(r,o),a=n&&n[u[1]]&&n[u[1]][u[0]];return i&&S(i,u)?t:[].concat(e(t),[a])},[])}function b(n,r,t,e,i,o,u,a){if(!P(e))throw new Error("Trying to reduce an area at an invalid position.");if(!P(i))throw new Error("Trying to reduce an area with invalid size.");var c=function(r,t,u){var a=D(u,i[0]),f=x(a,e);return o(r,t,f,n)},s=z(f(n,r,t,e,i));return a?s.reduce(c):s.reduce(c,u)}function I(n){var r=this;i(n);var t=n.length,R=n[0].length,j=z(n),W=[0,0];return this.numColumns=function(){return R},this.numRows=function(){return t},this.size=function(){return[R,t]},this.setValue=function(n){return u(r,j,R,t,W,n)},this.value=function(n){return void 0===n?o(j,R,W):u(r,j,R,t,W,n)},this.setValueAt=function(n,e){return u(r,j,R,t,n,e)},this.valueAt=function(n,e){return void 0===e?o(j,R,n):u(r,j,R,t,n,e)},this.moveCell=function(n,e){return d(j,R,t,n,e),r},this.moveAbs=function(n){return d(j,R,t,W,n),r},this.moveRel=function(n){return r.moveCell(W,x(W,n))},this.moveRow=function(n,e){return j=w(r.data(),R,t,n,e),r},this.moveColumn=function(n,e){return j=g(r.data(),R,t,n,e),r},this.column=function(n){return C(r.data(),n)},this.row=function(n){return U(r.data(),n)},this.addRow=function(n,e){var i=m(r.data(),R,t,n,e);return j=z(i),t=i.length,r},this.addColumn=function(n,e){var i=p(r.data(),R,t,n,e);return j=z(i),R=i[0].length,r},this.removeRow=function(n){var e=T(r.data(),t,n);return j=z(e),t=e.length,r},this.removeColumn=function(n){var t=y(r.data(),R,n);return j=z(t),R=t[0].length,r},this.clipAt=function(n,e){var i=E(r.data(),R,t,n,e);return j=z(i),t=i.length,R=i[0].length,r},this.clip=function(n){return r.clipAt(W,n)},this.swapCells=function(n,t){return A(r,n,t)},this.swapCell=function(n){return A(r,W,n)},this.swapRows=function(n,e){return j=O(r.data(),t,n,e),r},this.swapColumns=function(n,t){return j=G(r.data(),R,n,t),r},this.setAreaAt=function(n,e,i){return a(r,R,t,n,e,i)},this.setArea=function(n,e){return a(r,R,t,W,n,e)},this.getAreaAt=function(n,e,i){return f(r,R,t,n,e,i)},this.getArea=function(n,e){return f(r,R,t,W,n,e)},this.areaFitsAt=function(n,r,e){return l(R,t,n,r,e)},this.areaFits=function(n,r){return l(R,t,W,n,r)},this.find=function(n){return c(R,j,function(t,e){return n(t,D(e,R),r)})},this.findInArea=function(n,t,e){return s(r,R,n,t,e)},this.data=function(){return F(j,R)},this.rotate=function(n){var e=N(r.data(),R,n);return j=z(e),t=e.length,R=e[0].length,r},this.mirrorX=function(n){return j=z(L(r.data(),n)),r},this.mirrorY=function(n){var t=r.data();return j=z(t.map(function(r){return L(r,n)})),r},this.goto=function(n){var e=h(R,t,n);return W[0]=e[0],W[1]=e[1],r},this.walk=function(n){var e=v(R,t,W,n);return W[0]=e[0],W[1]=e[1],r},this.position=function(){return[W[0],W[1]]},this.map=function(n){var t=j.map(function(t,e){return n(t,D(e,R),r)});return new I(F(t,R))},this.forEach=function(n){return j.forEach(function(t,e){return n(t,D(e,R),r)}),r},this.reduce=function(n,r){var t=this,e=function(r,e,i){return n(r,e,D(i,R),t)};return 1===arguments.length?j.reduce(e):j.reduce(e,r)},this.reduceAreaAt=function(n,r,e,i){return b(this,R,t,n,r,e,i,1===arguments.length)},this.reduceArea=function(n,r,e){return b(this,R,t,W,n,r,e,1===arguments.length)},this.clone=function(){return new I(F(j,R)).goto(W)},this.adjacentCellsAt=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.ALL,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!e&&[R,t];return _(F(j,R),n,r,i)},this.adjacentCells=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q.ALL,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=!r&&[R,t];return _(F(j,R),W,n,e)},this.list=function(){return[].concat(e(j))},this}function R(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null},e=parseInt(n),i=parseInt(r);if(e<1||isNaN(e))throw new Error("You need to specify at least one column. Given: "+n);if(i<1||isNaN(i))throw new Error("You need to specify at least one row. Given: "+r);return Array.from({length:i},function(n,r){return Array.from({length:e},function(n,e){return t({column:e,row:r})})})}function j(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null},t=parseInt(n);if(t<1||isNaN(t))throw new Error("Trying to make a list with an invalid length. Given: "+n);return Array.from({length:t},function(n,t){return r(t)})}function W(n,r,t){return new I(R(n,r,t))}Object.defineProperty(r,"__esModule",{value:!0}),r.makeGrid=R,r.makeList=j,r.make=W;var P=function(n){return!(!Array.isArray(n)||2!==n.length)&&(Number.isSafeInteger(n[0])&&Number.isSafeInteger(n[1]))},D=function(n,r){return[n%r,Math.floor(n/r)]},H=function(n,r){return n&&n[0]+n[1]*r},F=function(n,r){return n.reduce(function(n,t,e){var i=D(e,r);return n[i[1]]||(n[i[1]]=[]),n[i[1]][i[0]]=t,n},[])},z=function(n){return n.reduce(function(n,r){return[].concat(e(n),e(r))},[])},C=function(n,r){if(r>=0&&r<n[0].length)return n.map(function(n){return n[r]})},U=function(n,r){return n[r]},x=function(n,r){return[n[0]+r[0],n[1]+r[1]]},k=function(n,r){return[n[0]-r[0],n[1]-r[1]]},M=function(n,r,t){return Math.max(Math.min(n,t),r)},V=function(n,r,t){var e=n[r];n[r]=n[t],n[t]=e},Y=function(n,r,t){var e=n[r];return n.splice(r,1),n.splice(t,0,e),n},S=function(n,r){return r[0]<0||r[0]>=n[0]||r[1]<0||r[1]>=n[1]},X=r.directions=Object.freeze({UP:Object.freeze([0,-1]),UP_RIGHT:Object.freeze([1,-1]),RIGHT:Object.freeze([1,0]),DOWN_RIGHT:Object.freeze([1,1]),DOWN:Object.freeze([0,1]),DOWN_LEFT:Object.freeze([-1,1]),LEFT:Object.freeze([-1,0]),UP_LEFT:Object.freeze([-1,-1])}),q=r.adjacences=Object.freeze({ALL:Object.freeze([X.UP_LEFT,X.UP,X.UP_RIGHT,X.LEFT,X.RIGHT,X.DOWN_LEFT,X.DOWN,X.DOWN_RIGHT]),ALL_CW:Object.freeze([X.UP,X.UP_RIGHT,X.RIGHT,X.DOWN_RIGHT,X.DOWN,X.DOWN_LEFT,X.LEFT,X.UP_LEFT]),ALL_CCW:Object.freeze([X.UP,X.UP_LEFT,X.LEFT,X.DOWN_LEFT,X.DOWN,X.DOWN_RIGHT,X.RIGHT,X.UP_RIGHT]),ORTHOGONAL:Object.freeze([X.UP,X.LEFT,X.RIGHT,X.DOWN]),ORTHOGONAL_CW:Object.freeze([X.UP,X.RIGHT,X.DOWN,X.LEFT]),ORTHOGONAL_CCW:Object.freeze([X.UP,X.LEFT,X.DOWN,X.RIGHT]),DIAGONAL:Object.freeze([X.UP_LEFT,X.UP_RIGHT,X.DOWN_LEFT,X.DOWN_RIGHT]),DIAGONAL_CW:Object.freeze([X.UP_RIGHT,X.DOWN_RIGHT,X.DOWN_LEFT,X.UP_LEFT]),DIAGONAL_CCW:Object.freeze([X.UP_LEFT,X.DOWN_LEFT,X.DOWN_RIGHT,X.UP_RIGHT])}),B=function(n){return new I(n)};B.adjacences=q,B.directions=X,B.make=W,B.makeGrid=R,B.makeList=j,r.default=B}])});
//# sourceMappingURL=gridl.min.js.map