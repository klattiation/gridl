!function(n,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("gridl",[],r):"object"==typeof exports?exports.gridl=r():n.gridl=r()}("undefined"!=typeof self?self:this,function(){return function(n){function r(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:e})},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},r.p="",r(r.s=0)}([function(n,r,t){"use strict";function e(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}function o(n){if(!Array.isArray(n))throw new Error("Trying to import data that is not an array.");n.forEach(function(r,t){if(!Array.isArray(r))throw new Error("Trying to import data that is not an array.");if(t>0&&n[t-1].length!==r.length)throw new Error("Trying to import data with different row lengths.");if(r.length<1)throw new Error("Trying to import grid without any columns. You need to provide at least one column.")})}function i(n,r,t){var e=w(t,r);if(!isNaN(e))return n[e]}function u(n,r,t,e,o){var i=w(e,t);return isNaN(i)||(r[i]=o),n}function a(n,r,t,e,o){return o.forEach(function(o,i){var u=[0,i+e[1]];u[1]>=t||o.forEach(function(t,o){u[0]=o+e[0],u[0]>=r||n.setValueAt(u,t)})}),n}function f(n,r,t,e,o){for(var i=[Math.min(e[0]+o[0],r),Math.min(e[1]+o[1],t)],u=[],a=e[1];a<i[1];a++){var f=a-e[1];u[f]||(u[f]=[]);for(var c=e[0];c<i[0];c++){var l=c-e[0];u[f][l]=n.getValueAt([c,a])}}return u}function c(n,r,t){var e=r.findIndex(t);return e>=0?m(e,n):void 0}function l(n,r,t,e,o){var i=n.getAreaAt(t,e),u=T(i),a=u.findIndex(o);if(a>=0){var f=i[0].length,c=m(a,f);return[t[0]+c[0],t[1]+c[1]]}}function s(n,r,t,e){var o=t[0]+e[0].length<=n,i=t[1]+e.length<=r;return o&&i}function v(n,r,t,e){var o=A(t,e);if(!O([n,r],o))return o}function d(n,r,t,e,o,i){var u=w(o,t),a=[t,e];if(isNaN(u)||O(a,o))throw new Error("Trying to move cell from an invalid position. Given: ["+o+"]");var f=w(i,t);if(isNaN(f)||O(a,i))throw new Error("Trying to move cell to an invalid position. Given: ["+i+"]");return E(r,u,f),n}function g(n,r,t,e,o){if(e<0||e>=t)throw new Error("Trying to move row from an invalid position. Given: "+e);if(o<0||o>=t)throw new Error("Trying to move row to an invalid position. Given: "+o);return T(E(n,e,o))}function p(n,r,t,e,o){if(e<0||e>=r)throw new Error("Trying to move column from an invalid position. Given: "+e);if(o<0||o>=r)throw new Error("Trying to move column to an invalid position. Given: "+o);var i=n.map(function(n){return E(n,e,o)});return T(i)}function h(n){o(n);var r=n.length,t=n[0].length,e=T(n),h={};return h.columns=function(){return t},h.rows=function(){return r},h.size=function(){return[t,r]},h.getValueAt=function(n){return i(e,t,n)},h.setValueAt=function(n,r){return u(h,e,t,n,r)},h.getRelativeValue=function(n,r){return h.getValueAt(h.getRelativePosition(n,r))},h.getRelativePosition=function(n,e){return v(t,r,n,e)},h.moveCell=function(n,o){return d(h,e,t,r,n,o)},h.moveCellFrom=function(n,r){return h.moveCell(n,A(n,r))},h.moveRow=function(n,o){return e=g(h.getData(),t,r,n,o),h},h.moveColumn=function(n,o){return e=p(h.getData(),t,r,n,o),h},h.setAreaAt=function(n,e){return a(h,t,r,n,e)},h.getAreaAt=function(n,e){return f(h,t,r,n,e)},h.checkAreaFitsAt=function(n,e){return s(t,r,n,e)},h.findPosition=function(n){return c(t,e,n)},h.findPositionInArea=function(n,r,e){return l(h,t,n,r,e)},h.getData=function(){return y(e,t)},h}Object.defineProperty(r,"__esModule",{value:!0});var m=function(n,r){return[n%r,Math.floor(n/r)]},w=function(n,r){return n&&n[0]+n[1]*r},y=function(n,r){return n.reduce(function(n,t,e){var o=m(e,r);return n[o[1]]||(n[o[1]]=[]),n[o[1]][o[0]]=t,n},[])},T=function(n){return n.reduce(function(n,r){return[].concat(e(n),e(r))},[])},A=function(n,r){return[n[0]+r[0],n[1]+r[1]]},E=function(n,r,t){var e=n[r];return n.splice(r,1),n.splice(t,0,e),n},O=function(n,r){return r[0]<0||r[0]>=n[0]||r[1]<0||r[1]>=n[1]};h.directions=Object.freeze({TOP:[0,-1],TOP_RIGHT:[1,-1],RIGHT:[1,0],BOTTOM_RIGHT:[1,1],BOTTOM:[0,1],BOTTOM_LEFT:[-1,1],LEFT:[-1,0],TOP_LEFT:[-1,-1]}),h.generateData=function(n,r,t){var e=parseInt(n),o=parseInt(r);if(e<1||isNaN(e))throw new Error("You need to specify at least one column. Given: "+n);if(o<1||isNaN(o))throw new Error("You need to specify at least one row. Given: "+r);return Array.from({length:o},function(n,r){return Array.from({length:e},function(n,e){return t({column:e,row:r})})})},h.generate=function(n,r,t){return h(h.generateData(n,r,t))},r.default=h,n.exports=r.default}])});